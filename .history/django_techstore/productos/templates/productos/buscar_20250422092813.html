{% load static %}
{% include "productos/menu.html" %}



<div class="container mt-4">
  <h2 class="text-center mb-4">Resultados de búsqueda para "<span class="text-danger">{{ request.GET.q }}</span>"</h2>

  {% if productos %}
  <div class="row row-cols-1 row-cols-md-3 row-cols-lg-4 g-4">
      {% for p in productos %}
      <div class="col">
          <div class="card h-100 shadow-sm">
              <!-- Puedes agregar una imagen aquí si tus productos tienen -->
              <!-- <img src="{{ p.imagen.url }}" class="card-img-top" alt="{{ p.nombre }}"> -->
              <div class="card-body">
                  <h5 class="card-title">{{ p.nombre }}</h5>
                  <p class="card-text text-muted">{{ p.descripcion|truncatechars:100 }}</p>
                  <!-- Agrega más campos si necesitas -->
              </div>
                <a href="{% url 'detalle_producto' producto.id %}" class="btn btn-primary mt-auto">
                  Ver detalle
                </a>
          </div>
      </div>
      {% endfor %}
  </div>
  {% else %}
  <div class="text-center py-5">
      <div class="alert alert-warning w-50 mx-auto">
          <i class="bi bi-exclamation-triangle-fill me-2"></i>
          No encontramos resultados para "<strong>{{ request.GET.q }}</strong>"
      </div>
      <a href="{% url 'home' %}" class="btn btn-primary mt-3">Volver al inicio</a>
      
      <!-- Debug (opcional, puedes quitarlo en producción) -->
      <div class="mt-4 small text-muted">
          <p>Query ejecutada: <code>{{ productos.query }}</code></p>
      </div>
  </div>
  {% endif %}
</div>

<style>
  .card {
    transition: transform 0.2s;
}
.card:hover {
    transform: translateY(-5px);
}
</style>

{% include "productos/footer.html" %}