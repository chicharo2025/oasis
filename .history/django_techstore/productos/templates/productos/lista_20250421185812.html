


<h2>Todos los Productos</h2>

<form method="get" class="mb-4">
    <label for="categoria">Filtrar por categoría:</label>
    <select name="categoria" id="categoria" onchange="this.form.submit()">
        <option value="">-- Todas --</option>
        {% for cat in categorias %}
            <option value="{{ cat.id }}" {% if categoria_seleccionada == cat.id|stringformat:"s" %}selected{% endif %}>
                {{ cat.nombre }}
            </option>
        {% endfor %}
    </select>
</form>

<div class="productos">
    {% for producto in productos %}
        <div class="producto">
            <h3>{{ producto.nombre }}</h3>
            {% if producto.imagen %}
                <img src="{{ producto.imagen.url }}" width="150">
            {% endif %}
            <p>{{ producto.descripcion }}</p>
            <p><strong>${{ producto.precio }}</strong></p>
            <p><em>Categoría: {{ producto.categoria.nombre }}</em></p>
        </div>
    {% empty %}
        <p>No hay productos disponibles.</p>
    {% endfor %}
</div>
